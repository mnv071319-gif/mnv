<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VyFun - Color Prediction Game</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #1a0b2e 0%, #4a1a5c 50%, #7b2d5a 100%);
            min-height: 100vh;
            color: white;
            overflow-x: hidden;
        }

        .top-bar {
            background: linear-gradient(90deg, #9333ea 0%, #ec4899 100%);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .top-bar h1 {
            font-size: 24px;
            font-weight: bold;
        }

        .top-icons {
            display: flex;
            gap: 15px;
        }

        .balance-card {
            background: linear-gradient(90deg, #9333ea 0%, #ec4899 100%);
            padding: 24px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .balance-info h2 {
            font-size: 14px;
            opacity: 0.9;
            margin-bottom: 5px;
        }

        .balance-info .amount {
            font-size: 32px;
            font-weight: bold;
        }

        .balance-buttons {
            display: flex;
            gap: 10px;
        }

        .btn {
            padding: 10px 20px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .btn-light {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            backdrop-filter: blur(10px);
        }

        .btn-light:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .container {
            padding: 20px;
            padding-bottom: 100px;
        }

        .message-alert {
            background: linear-gradient(90deg, #9333ea 0%, #ec4899 100%);
            padding: 16px;
            border-radius: 12px;
            text-align: center;
            font-weight: 600;
            margin-bottom: 20px;
            animation: pulse 2s infinite;
            box-shadow: 0 4px 15px rgba(147, 51, 234, 0.4);
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .game-card {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 24px;
            margin-bottom: 16px;
            border: 1px solid rgba(147, 51, 234, 0.5);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .timer-section {
            display: flex;
            justify-content: space-between;
            margin-bottom: 24px;
        }

        .period-info h3, .timer-info h3 {
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 5px;
        }

        .period-info p {
            font-size: 20px;
            font-weight: bold;
        }

        .timer-info p {
            font-size: 32px;
            font-weight: bold;
        }

        .timer-info p.warning {
            color: #ef4444;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            0%, 50%, 100% { opacity: 1; }
            25%, 75% { opacity: 0.5; }
        }

        .color-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .color-btn {
            padding: 40px 0;
            border-radius: 12px;
            border: none;
            color: white;
            font-weight: bold;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .color-btn:hover:not(:disabled) {
            transform: scale(1.05);
            opacity: 0.9;
        }

        .color-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .color-btn.green {
            background: #22c55e;
        }

        .color-btn.violet {
            background: #a855f7;
        }

        .color-btn.red {
            background: #ef4444;
        }

        .multiplier {
            font-size: 14px;
            margin-top: 5px;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 8px;
        }

        .number-btn {
            padding: 24px 0;
            border-radius: 12px;
            border: none;
            color: white;
            font-weight: bold;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        .number-btn:hover:not(:disabled) {
            transform: scale(1.05);
            opacity: 0.9;
        }

        .number-btn:disabled {
            opacity: 0.4;
            cursor: not-allowed;
        }

        .number-btn.mixed {
            background: linear-gradient(135deg, #a855f7 0%, #22c55e 100%);
        }

        .number-btn.red-green {
            background: linear-gradient(135deg, #ef4444 0%, #22c55e 100%);
        }

        .current-bets {
            margin-top: 16px;
            padding: 16px;
            background: rgba(147, 51, 234, 0.2);
            border-radius: 12px;
        }

        .current-bets h4 {
            font-size: 14px;
            margin-bottom: 10px;
        }

        .bet-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }

        .bet-tag {
            background: rgba(17, 24, 39, 0.8);
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 16px;
        }

        .stat-card {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(20px);
            border-radius: 12px;
            padding: 16px;
            text-align: center;
            border: 1px solid rgba(147, 51, 234, 0.5);
        }

        .stat-card svg {
            width: 24px;
            height: 24px;
            margin: 0 auto 8px;
        }

        .stat-card .value {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .stat-card .label {
            font-size: 12px;
            color: #9ca3af;
        }

        .history-item {
            background: rgba(31, 41, 55, 0.8);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
        }

        .history-header {
            display: flex;
            justify-content: space-between;
            font-size: 12px;
            color: #9ca3af;
            margin-bottom: 10px;
        }

        .history-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .result-box {
            width: 48px;
            height: 48px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .win-amount {
            text-align: right;
        }

        .win-amount.positive {
            color: #22c55e;
        }

        .win-amount.negative {
            color: #ef4444;
        }

        .win-amount .amount {
            font-size: 18px;
            font-weight: bold;
        }

        .win-amount .label {
            font-size: 12px;
            color: #9ca3af;
        }

        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(17, 24, 39, 0.95);
            backdrop-filter: blur(10px);
            border-top: 1px solid rgba(147, 51, 234, 0.5);
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            max-width: 600px;
            margin: 0 auto;
        }

        .nav-btn {
            padding: 16px;
            background: none;
            border: none;
            color: #9ca3af;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
        }

        .nav-btn.active {
            color: #a855f7;
        }

        .nav-btn svg {
            width: 24px;
            height: 24px;
        }

        .nav-btn span {
            font-size: 12px;
            font-weight: 600;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.75);
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal.show {
            display: flex;
        }

        .modal-content {
            background: #1f2937;
            border-radius: 20px;
            padding: 24px;
            width: 100%;
            max-width: 400px;
            border: 1px solid rgba(147, 51, 234, 0.5);
        }

        .modal-content h3 {
            font-size: 20px;
            margin-bottom: 20px;
        }

        .amount-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .amount-btn {
            padding: 12px;
            border-radius: 12px;
            border: none;
            background: rgba(31, 41, 55, 0.8);
            color: white;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
        }

        .amount-btn.selected {
            background: linear-gradient(90deg, #9333ea 0%, #ec4899 100%);
        }

        .custom-input {
            width: 100%;
            padding: 12px;
            border-radius: 12px;
            border: none;
            background: rgba(31, 41, 55, 0.8);
            color: white;
            font-size: 16px;
            margin-bottom: 20px;
        }

        .custom-input:focus {
            outline: 2px solid #9333ea;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
        }

        .modal-buttons button {
            flex: 1;
            padding: 12px;
            border-radius: 12px;
            border: none;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
        }

        .btn-cancel {
            background: rgba(31, 41, 55, 0.8);
            color: white;
        }

        .btn-confirm {
            background: linear-gradient(90deg, #9333ea 0%, #ec4899 100%);
            color: white;
        }

        .profile-section {
            display: flex;
            align-items: center;
            gap: 16px;
            margin-bottom: 24px;
        }

        .profile-avatar {
            width: 64px;
            height: 64px;
            border-radius: 50%;
            background: linear-gradient(135deg, #9333ea 0%, #ec4899 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }

        .profile-info h2 {
            font-size: 20px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .profile-info p {
            font-size: 14px;
            color: #9ca3af;
        }

        .menu-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .menu-item {
            background: rgba(31, 41, 55, 0.8);
            padding: 16px;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .menu-item:hover {
            background: rgba(31, 41, 55, 1);
        }

        .menu-item-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .menu-item.logout {
            background: #dc2626;
        }

        .menu-item.logout:hover {
            background: #b91c1c;
        }

        .hidden {
            display: none;
        }

        @media (max-width: 640px) {
            .balance-info .amount {
                font-size: 24px;
            }

            .btn {
                padding: 8px 16px;
                font-size: 12px;
            }

            .color-btn {
                padding: 32px 0;
                font-size: 16px;
            }

            .number-btn {
                padding: 20px 0;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>
    <!-- Top Bar -->
    <div class="top-bar">
        <h1>VyFun</h1>
        <div class="top-icons">
            <span>üîî</span>
            <span>üí≥</span>
        </div>
    </div>

    <!-- Balance Card -->
    <div class="balance-card">
        <div class="balance-info">
            <h2>Total Balance</h2>
            <div class="amount" id="balance">‚Çπ10000.00</div>
        </div>
        <div class="balance-buttons">
            <button class="btn btn-light">Deposit</button>
            <button class="btn btn-light">Withdraw</button>
        </div>
    </div>

    <!-- Message Alert -->
    <div class="container">
        <div class="message-alert hidden" id="message"></div>

        <!-- Home Tab -->
        <div id="home-tab">
            <!-- Game Card -->
            <div class="game-card">
                <div class="timer-section">
                    <div class="period-info">
                        <h3>Period</h3>
                        <p id="period">20250105001</p>
                    </div>
                    <div class="timer-info">
                        <h3>Count Down</h3>
                        <p id="timer">3:00</p>
                    </div>
                </div>

                <!-- Color Betting -->
                <div class="color-grid">
                    <button class="color-btn green" onclick="openBetModal('color', 'green')">
                        Green
                        <div class="multiplier">2x</div>
                    </button>
                    <button class="color-btn violet" onclick="openBetModal('color', 'violet')">
                        Violet
                        <div class="multiplier">4.5x</div>
                    </button>
                    <button class="color-btn red" onclick="openBetModal('color', 'red')">
                        Red
                        <div class="multiplier">2x</div>
                    </button>
                </div>

                <!-- Number Betting -->
                <div class="number-grid" id="number-grid"></div>

                <!-- Current Bets -->
                <div class="current-bets hidden" id="current-bets">
                    <h4>Current Bets:</h4>
                    <div class="bet-tags" id="bet-tags"></div>
                </div>
            </div>

            <!-- Statistics -->
            <div class="stats-grid">
                <div class="stat-card">
                    <svg fill="currentColor" style="color: #fbbf24;" viewBox="0 0 24 24"><path d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z"/></svg>
                    <div class="value" id="total-win">‚Çπ0</div>
                    <div class="label">Total Win</div>
                </div>
                <div class="stat-card">
                    <svg fill="currentColor" style="color: #60a5fa;" viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.31-8.86c-1.77-.45-2.34-.94-2.34-1.67 0-.84.79-1.43 2.1-1.43 1.38 0 1.9.66 1.94 1.64h1.71c-.05-1.34-.87-2.57-2.49-2.97V5H10.9v1.69c-1.51.32-2.72 1.3-2.72 2.81 0 1.79 1.49 2.69 3.66 3.21 1.95.46 2.34 1.15 2.34 1.87 0 .53-.39 1.39-2.1 1.39-1.6 0-2.23-.72-2.32-1.64H8.04c.1 1.7 1.36 2.66 2.86 2.97V19h2.34v-1.67c1.52-.29 2.72-1.16 2.73-2.77-.01-2.2-1.9-2.96-3.66-3.42z"/></svg>
                    <div class="value" id="total-bets">0</div>
                    <div class="label">Total Bets</div>
                </div>
                <div class="stat-card">
                    <svg fill="currentColor" style="color: #ec4899;" viewBox="0 0 24 24"><path d="M20 6h-2.18c.11-.31.18-.65.18-1a2.996 2.996 0 0 0-5.5-1.65l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm11 15H4v-2h16v2zm0-5H4V8h5.08L7 10.83 8.62 12 11 8.76l1-1.36 1 1.36L15.38 12 17 10.83 14.92 8H20v6z"/></svg>
                    <div class="value">0</div>
                    <div class="label">Bonus</div>
                </div>
            </div>
        </div>

        <!-- Win Tab -->
        <div id="win-tab" class="hidden">
            <div class="game-card">
                <h2 style="font-size: 24px; margin-bottom: 20px;">Game Records</h2>
                <div id="history-list"></div>
            </div>
        </div>

        <!-- My Tab -->
        <div id="my-tab" class="hidden">
            <div class="game-card">
                <div class="profile-section">
                    <div class="profile-avatar">üë§</div>
                    <div class="profile-info">
                        <h2 id="player-id">Player ID: #12345</h2>
                        <p>VIP Level 1</p>
                    </div>
                </div>

                <div class="menu-list">
                    <div class="menu-item">
                        <div class="menu-item-left">
                            <span>üí∞</span>
                            <span>Wallet</span>
                        </div>
                        <span id="menu-balance" style="color: #22c55e; font-weight: bold;">‚Çπ10000.00</span>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-left">
                            <span>üìú</span>
                            <span>Transaction History</span>
                        </div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-left">
                            <span>üë•</span>
                            <span>Invite Friends</span>
                        </div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-left">
                            <span>üéÅ</span>
                            <span>Rewards</span>
                        </div>
                    </div>
                    <div class="menu-item">
                        <div class="menu-item-left">
                            <span>‚öôÔ∏è</span>
                            <span>Settings</span>
                        </div>
                    </div>
                    <div class="menu-item logout">
                        <div class="menu-item-left">
                            <span>üö™</span>
                            <span>Logout</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Bet Modal -->
    <div class="modal" id="bet-modal">
        <div class="modal-content">
            <h3>Select Amount</h3>
            <div class="amount-grid" id="amount-grid"></div>
            <input type="number" class="custom-input" id="custom-amount" placeholder="Enter custom amount" value="10">
            <div class="modal-buttons">
                <button class="btn-cancel" onclick="closeBetModal()">Cancel</button>
                <button class="btn-confirm" onclick="confirmBet()">Confirm</button>
            </div>
        </div>
    </div>

    <!-- Bottom Navigation -->
    <div class="bottom-nav">
        <button class="nav-btn active" onclick="switchTab('home')">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>
            <span>Home</span>
        </button>
        <button class="nav-btn" onclick="switchTab('win')">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/></svg>
            <span>Win</span>
        </button>
        <button class="nav-btn" onclick="switchTab('my')">
            <svg fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
            <span>My</span>
        </button>
    </div>

    <script>
        let balance = 10000;
        let betAmount = 10;
        let selectedBet = null;
        let timeLeft = 180;
        let period = 20250105001;
        let gameHistory = [];
        let currentBets = [];
        let totalWin = 0;
        let totalBetsCount = 0;

        const quickAmounts = [10, 50, 100, 500, 1000, 5000];
        const numbers = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];

        function getNumberColor(num) {
            if (num === 0) return 'mixed';
            if (num === 5) return 'red-green';
            if ([1, 3, 7, 9].includes(num)) return 'red';
            if ([2, 4, 6, 8].includes(num)) return 'violet';
            return 'green';
        }

        function initNumberGrid() {
            const grid = document.getElementById('number-grid');
            numbers.forEach(num => {
                const btn = document.createElement('button');
                btn.className = `number-btn ${getNumberColor(num)}`;
                btn.textContent = num;
                btn.onclick = () => openBetModal('number', num);
                grid.appendChild(btn);
            });
        }

        function initAmountGrid() {
            const grid = document.getElementById('amount-grid');
            quickAmounts.forEach(amt => {
                const btn = document.createElement('button');
                btn.className = 'amount-btn';
                btn.textContent = `‚Çπ${amt}`;
                btn.onclick = () => {
                    betAmount = amt;
                    document.getElementById('custom-amount').value = amt;
                    updateAmountSelection();
                };
                grid.appendChild(btn);
            });
        }

        function updateAmountSelection() {
            document.querySelectorAll('.amount-btn').forEach((btn, idx) => {
                btn.classList.toggle('selected', quickAmounts[idx] === betAmount);
            });
        }

        function openBetModal(type, value) {
            if (timeLeft <= 10) {
                showMessage('‚è∞ Betting time is over! Wait for next round');
                return;
            }
            selectedBet = { type, value };
            document.getElementById('bet-modal').classList.add('show');
            updateAmountSelection();
        }

        function closeBetModal() {
            document.getElementById('bet-modal').classList.remove('show');
        }

        function confirmBet() {
            const customAmt = parseInt(document.getElementById('custom-amount').value);
            if (customAmt) betAmount = customAmt;

            if (balance < betAmount) {
                showMessage('‚ö†Ô∏è Insufficient balance!');
                return;
            }

            balance -= betAmount;
            currentBets.push({ ...selectedBet, amount: betAmount });
            updateDisplay();
            showMessage(`‚úÖ Bet placed successfully! ‚Çπ${betAmount}`);
            closeBetModal();
        }

        function processRound() {
            const result = Math.floor(Math.random() * 10);
            const now = new Date();
            const time = now.toLocaleTimeString('en-US', { 
                hour: '2-digit', 
                minute: '2-digit',
                hour12: false
            });

                        let roundWin = 0;
            let winningColor = '';

            // Determine winning color based on number
            if (result === 0) winningColor = 'green';
            else if (result === 5) winningColor = 'red-green';
            else if ([1, 3, 7, 9].includes(result)) winningColor = 'red';
            else if ([2, 4, 6, 8].includes(result)) winningColor = 'violet';

            // Calculate winnings
            currentBets.forEach(bet => {
                let isWin = false;
                let multiplier = 1;

                if (bet.type === 'color') {
                    if ((bet.value === 'green' && result === 0) ||
                        (bet.value === 'red' && [1, 3, 7, 9].includes(result)) ||
                        (bet.value === 'violet' && [2, 4, 6, 8].includes(result))) {
                        isWin = true;
                        multiplier = bet.value === 'green' ? 2 : bet.value === 'red' ? 2 : 4.5;
                    }
                } else if (bet.type === 'number') {
                    if (bet.value === result) {
                        isWin = true;
                        multiplier = result === 5 ? 9 : result === 0 ? 10 : 9;
                    }
                }

                if (isWin) {
                    const winAmount = bet.amount * multiplier;
                    roundWin += winAmount;
                    balance += winAmount;
                    showMessage(`üéâ You won ‚Çπ${winAmount}! Number ${result} ${winningColor}`);
                }
            });

            // Add to history
            const historyItem = {
                period: period.toString(),
                time: time,
                result: result,
                color: winningColor,
                winAmount: roundWin,
                bets: [...currentBets]
            };

            gameHistory.unshift(historyItem);
            totalWin += roundWin;
            totalBetsCount += currentBets.length;

            // Reset for next round
            currentBets = [];
            period++;
            timeLeft = 180;
            updateDisplay();
            updateHistory();
        }

        function updateDisplay() {
            // Update balance
            document.getElementById('balance').textContent = `‚Çπ${balance.toLocaleString('en-IN')}`;
            document.getElementById('menu-balance').textContent = `‚Çπ${balance.toLocaleString('en-IN')}`;
            
            // Update period
            document.getElementById('period').textContent = period;
            
            // Update stats
            document.getElementById('total-win').textContent = `‚Çπ${totalWin.toLocaleString('en-IN')}`;
            document.getElementById('total-bets').textContent = totalBetsCount;
            
            // Update current bets display
            const currentBetsDiv = document.getElementById('current-bets');
            const betTagsDiv = document.getElementById('bet-tags');
            
            if (currentBets.length > 0) {
                currentBetsDiv.classList.remove('hidden');
                betTagsDiv.innerHTML = '';
                
                currentBets.forEach((bet, index) => {
                    const tag = document.createElement('div');
                    tag.className = 'bet-tag';
                    const typeLabel = bet.type === 'color' ? 
                        `${bet.value.charAt(0).toUpperCase() + bet.value.slice(1)}` : 
                        `Number ${bet.value}`;
                    tag.textContent = `${typeLabel}: ‚Çπ${bet.amount}`;
                    betTagsDiv.appendChild(tag);
                });
            } else {
                currentBetsDiv.classList.add('hidden');
            }
        }

        function updateHistory() {
            const historyList = document.getElementById('history-list');
            historyList.innerHTML = '';
            
            // Show last 10 games
            const recentHistory = gameHistory.slice(0, 10);
            
            recentHistory.forEach(item => {
                const historyItem = document.createElement('div');
                historyItem.className = 'history-item';
                
                // Determine color for result box
                let resultColor;
                if (item.result === 0) resultColor = '#22c55e';
                else if ([1, 3, 7, 9].includes(item.result)) resultColor = '#ef4444';
                else if ([2, 4, 6, 8].includes(item.result)) resultColor = '#a855f7';
                else resultColor = '#9333ea'; // For 5 (mixed)
                
                historyItem.innerHTML = `
                    <div class="history-header">
                        <span>Period: ${item.period}</span>
                        <span>${item.time}</span>
                    </div>
                    <div class="history-content">
                        <div class="result-box" style="background: ${resultColor}">
                            ${item.result}
                        </div>
                        <div class="win-amount ${item.winAmount > 0 ? 'positive' : 'negative'}">
                            <div class="amount">${item.winAmount > 0 ? '+' : ''}‚Çπ${item.winAmount}</div>
                            <div class="label">${item.winAmount > 0 ? 'Won' : 'Lost'}</div>
                        </div>
                    </div>
                `;
                
                historyList.appendChild(historyItem);
            });
        }

        function showMessage(text) {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.classList.remove('hidden');
            
            setTimeout(() => {
                messageDiv.classList.add('hidden');
            }, 3000);
        }

        function switchTab(tab) {
            // Hide all tabs
            document.getElementById('home-tab').classList.add('hidden');
            document.getElementById('win-tab').classList.add('hidden');
            document.getElementById('my-tab').classList.add('hidden');
            
            // Show selected tab
            document.getElementById(`${tab}-tab`).classList.remove('hidden');
            
            // Update navigation buttons
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.currentTarget.classList.add('active');
            
            // If switching to win tab, update history
            if (tab === 'win') {
                updateHistory();
            }
        }

        // Timer function
        function updateTimer() {
            const timerElement = document.getElementById('timer');
            
            if (timeLeft > 0) {
                timeLeft--;
                
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                timerElement.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                
                // Add warning class when time is running low
                if (timeLeft <= 10) {
                    timerElement.classList.add('warning');
                } else {
                    timerElement.classList.remove('warning');
                }
                
                // Disable betting buttons when time is too low
                const bettingButtons = document.querySelectorAll('.color-btn, .number-btn');
                const isBettingDisabled = timeLeft <= 10;
                
                bettingButtons.forEach(btn => {
                    btn.disabled = isBettingDisabled;
                });
            } else {
                // Process round when timer reaches 0
                processRound();
            }
        }

        // Initialize
        function init() {
            initNumberGrid();
            initAmountGrid();
            updateDisplay();
            
            // Set up timer interval
            setInterval(updateTimer, 1000);
            
            // Set up custom amount input
            const customAmountInput = document.getElementById('custom-amount');
            customAmountInput.addEventListener('input', (e) => {
                const value = parseInt(e.target.value);
                if (value) {
                    betAmount = value;
                    updateAmountSelection();
                }
            });
            
            // Close modal when clicking outside
            document.getElementById('bet-modal').addEventListener('click', (e) => {
                if (e.target.id === 'bet-modal') {
                    closeBetModal();
                }
            });
            
            // Logout button
            document.querySelector('.menu-item.logout').addEventListener('click', () => {
                if (confirm('Are you sure you want to logout?')) {
                    showMessage('üëã Logged out successfully!');
                    // Reset game state (optional)
                    // balance = 10000;
                    // gameHistory = [];
                    // currentBets = [];
                    // updateDisplay();
                    // updateHistory();
                }
            });
            
            // Menu item click handlers
            document.querySelectorAll('.menu-item:not(.logout)').forEach(item => {
                item.addEventListener('click', () => {
                    showMessage('‚ú® Feature coming soon!');
                });
            });
        }

        // Start the game when page loads
        window.onload = init;
    </script>
</body>
</html>